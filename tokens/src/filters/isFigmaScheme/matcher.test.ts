import { describe, it, expect } from 'vitest';
import type { TransformedToken } from 'style-dictionary';

import {
  FIGMA_TOKENS_CAT,
  TOKENS_CAT_PROP,
  TOKENS_TIER,
} from '../../constants';
import { matcher } from './matcher';

describe('filters', () => {
  describe('isFigmaScheme', () => {
    describe('matcher', () => {
      const cases: [string, TransformedToken, boolean][] = [
        [
          'true',
          {
            original: { value: '' },
            filePath: '',
            isSource: false,
            path: [],
            name: '',
            value: '',
            attributes: {
              tier: TOKENS_TIER.FIGMA,
              figmaType: FIGMA_TOKENS_CAT.SIZE,
              category: TOKENS_CAT_PROP.COLOR.NAME,
            },
          },
          true,
        ],
        [
          'false',
          {
            original: { value: '' },
            filePath: '',
            isSource: false,
            path: [],
            name: '',
            value: '',
            attributes: {
              tier: TOKENS_TIER.BRAND,
            },
          },
          false,
        ],
        [
          'false',
          {
            original: { value: '' },
            filePath: '',
            isSource: false,
            path: [],
            name: '',
            value: '',
            attributes: {
              tier: TOKENS_TIER.FIGMA,
            },
          },
          false,
        ],
      ];

      it.each(cases)('%s', (_title, token, expected) => {
        expect(matcher(token)).toEqual(expected);
      });
    });
  });
});
